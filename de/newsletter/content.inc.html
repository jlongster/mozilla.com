
<div id="main-feature">
    <h2>Erfahren Sie mehr, mit dem <span>Mozilla-Newsletter</span></h2>
    <p>Abonnieren Sie den monatlichen Mozilla-Newsletter und erhalten Sie die wichtigsten Mozilla-News. Sie lernen aus erster Hand, wie Sie das Beste aus Ihrem Firefox-Browser herausholen. So bleiben Sie immer auf dem neuesten Stand.</p>
</div>

<div id="content" class="<?= $form->has_success() ? "success" : "" ?>">

  <div class="success-pane">
    <h3>Vielen Dank, dass Sie den Mozilla-Newsletter abonniert haben!</h3>
    <p>Sie gehören jetzt zu den Ersten, die exklusiv über Events, Aktualisierungen, Videos und viele andere spannende Dinge informiert werden.</p>
  </div>

  <form action="" method="post" id="newsletter-form">
    <input type="hidden" name="mozilla-and-you" value="Y" />

<?php
    if($form->has_non_field_error()) {
        echo '<div class="non-field-errors field-errors">' .
        ___($form->non_field_error) .
        '</div>';
    }

    if($form->has_error()) {
        echo '<ul class="field-errors">';

        foreach($form->errors as $error) {
            if($error == 'email') {
                echo '<li>Upps! Das scheint keine gültige E-Mail-Adresse zu sein.</li>';
            }
            else if($error == 'privacy') {
                echo '<li>Bitte lesen Sie die Datenschutzbestimmungen und akzeptieren Sie sie mit einem Klick in das Kästchen.</li>';
           }
        }

        echo '</ul>';
    }
?>

        <div class="field required email-field <?= $form->has_error('email') ? 'field-error' : ''; ?>">
          <label for="email">Ihre E-Mail-Adresse:</label>
          <span class="error-wrapper"><input name="email" type="email" class="email" value="<?= $form->get('email') ?>" autofocus></span>
        </div>

        <div class="field country-field <?= $form->has_error('country') ? 'field-error' : ''; ?>">
          <label for="country">Land:</label>
          <select class="country" name="country">
            <option value="">Select country</option>
            <?php
                $country = $form->get('country');
                if (!$country) {
                    $country = 'de';
                }
                echo regionsAsOptions($lang, $country);
            ?>
          </select>
        </div>

        <div class="field format-field">
          <?php
              $html_format = 'checked="checked"';
              $text_format = '';
              if ($form->get('format') == 'text') {
                  $text_format = 'checked="checked"';
                  $html_format = '';
              }
          ?>
          <span class="field-label">Sprache:</span>
          <div class="field-radios">
            <span class="radio-wrapper"><input type="radio" name="lang" id="html-format" class="html-format" value="de" <?= $html_format?>></span>
            <label for="html-format">Deutsch</label>
            <span class="radio-wrapper"><input type="radio" name="lang" id="text-format" value="en" <?= $text_format?>></span>
            <label for="text-format">Englisch</label>
          </div>
        </div>

        <div class="field privacy-field <?= $form->has_error('privacy') ? 'field-error' : ''; ?>">
          <label for="privacy-check" class="privacy-check-label">
            <? $checked = $form->get('privacy') ? 'checked="checked"' : '' ?>
            <span class="error-wrapper"><input type="checkbox" name="privacy" class="privacy-check" <?= $checked ?>></span>
            <span class="title"> Ich stimme den <a href="/en-US/privacy-policy">Datenschutzbestimmungen von Mozilla</a></span>
          </label>
        </div>

        <div class="text">Sie erhalten ausschließlich Mozilla-bezogene Informationen.</div>

        <div class="field submit-field">
          <input name="submit" type="submit" value="Mozilla-Newsletter anmelden" id="subscribe" class="button">
        </div>
      </form>


</div><!-- end #content div -->

