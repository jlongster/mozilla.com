<?php

    $_FLASH_PLAYER_CONTROLS_HEIGHT = 28;

	/**
	 * Videos data array
	 *
	 * Duration is measured in seconds.
	 *
	 * @var array
	 */
	$_videos = array(
		// {{{ video array

		'about-firefox' => array(
			'title'        => 'Meet Firefox',
			'description'  => 'A quick overview of what makes Mozilla’s latest browser so great.',
			'thumbnail'    => '/img/covehead/video/icon-meet-3.5.png',
			'flv_filename' => 'firefox/3.6/meetfirefox/FF3.6_Screencast_FINAL_640.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/meetfirefox/FF3.6_Screencast_FINAL.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/meetfirefox/FF3.6_Screencast_FINAL_640.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 105,
		),
		'whatsnew-3.6' => array(
			'title'        => 'What’s New in Firefox 3.6',
			'description'  => 'Mike Beltzner gives a quick tour of Firefox 3.6’s new features.',
			'thumbnail'    => '/img/covehead/video/icon-whatsnew-3.6.png',
			'flv_filename' => 'firefox/3.6/whatsnewin36.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/whatsnewin36.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/whatsnewin36.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 130,
		),
		'personas' => array(
			'title'        => 'Your Firefox, Your Style',
			'description'  => 'What’s your style? Make your Firefox your own with Personas.',
			'thumbnail'    => '/img/covehead/video/icon-personas.png',
			'flv_filename' => 'firefox/3.6/getpersonas.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/getpersonas.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/getpersonas.mp4',
					'type' => 'video/mp4;',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 67,
		),
		'choice' => array(
			'title'        => 'Open to Choice',
			'description'  => 'John Lilly talks about the importance of browser choice.',
			'thumbnail'    => '/img/covehead/video/icon-choice.png',
			'flv_filename' => 'firefox/3.6/John_Lilly_about_Opentochoice.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/John_Lilly_about_Opentochoice.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/John_Lilly_about_Opentochoice.mp4',
					'type' => 'video/mp4;',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 102,
		),
		'about-mobile' => array(
			'title'        => 'Meet Firefox for Your Mobile Phone',
			'description'  => 'Learn how Firefox brings the Web to your phone.',
			'thumbnail'    => '/img/covehead/video/icon-mobile.png',
			'flv_filename' => 'serv/mobile/firefox-mobile.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/serv/mobile/firefox-mobile-large.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/serv/mobile/firefox-mobile.mp4',
					'type' => 'video/mp4;',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 160,
    ),
    'meet-mobile-beta' => array(
			'title'        => 'Meet Firefox 4 beta for mobile',
			'description'  => 'Hear from the team and check out the new features of Firefox 4 beta for mobile',
			'thumbnail'    => '/img/covehead/video/icon-mobile-beta.png',
			'flv_filename' => 'serv/mobile/firefox-mobile.mp4',
			'sources'      => array(
				'webm' => array(
					'src'  => 'http://videos-cdn.mozilla.net/serv/mobile/meetFFXmobile2-640x360.webm',
					'type' => 'video/webm',
				),
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/serv/mobile/meetFFXmobile2-640x360.theora.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/serv/mobile/meetFFXmobile2-640x360.mp4',
					'type' => 'video/mp4;',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 175,
    ),
		'performance-3.5' => array(
			'title'        => 'Performance',
			'description'  => 'Chris Blizzard shows Firefox 3.6’s speed in a side-by-side test.',
			'thumbnail'    => '/img/covehead/video/icon-performance-3.5.png',
			'flv_filename' => 'firefox/3.6/performance/fx36performancedemo.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/performance/fx36performancedemo.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.6/performance/fx36performancedemo.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 106,
		),
		'security' => array(
			'title'        => 'Security',
			'description'  => 'Johnathan Nightingale shows off Firefox’s security features.',
			'thumbnail'    => '/img/covehead/video/icon-security.png',
			'flv_filename' => 'firefox/3.5/security/security.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/security/security.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/security/security.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 348,
		),
		'awesomebar' => array(
			'title'        => 'Awesome Bar',
			'description'  => 'Seth Spitzer explains how to get the most out of the Awesome Bar.',
			'thumbnail'    => '/img/covehead/video/icon-awesome-bar.png',
			'flv_filename' => 'firefox/3.5/awesomebar/awesomebar.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/awesomebar/awesomebar.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/awesomebar/awesomebar.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 53,
		),
		'privacy' => array(
			'title'        => 'Privacy',
			'description'  => 'Drew Willcoxon explains the privacy features in Firefox.',
			'thumbnail'    => '/img/covehead/video/icon-privacy.png',
			'flv_filename' => 'firefox/3.5/privacy/privacy.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/privacy/privacy.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/privacy/privacy.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 185,
		),
		'tabs' => array(
			'title'        => 'Tabs',
			'description'  => 'Marcia Knous shows a series of tips and tricks to get the most out of tabs in Firefox.',
			'thumbnail'    => '/img/covehead/video/icon-tabs.png',
			'flv_filename' => 'firefox/3.5/tabs/tabs.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/tabs/tabs.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/tabs/tabs.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 184,
		),
		'bookmarks' => array(
			'title'        => 'Bookmarks',
			'description'  => 'Alex Faaborg gives an overview of bookmarks in Firefox.',
			'thumbnail'    => '/img/covehead/video/icon-bookmarks.png',
			'flv_filename' => 'firefox/3.5/bookmarks/bookmarks.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/bookmarks/bookmarks.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/bookmarks/bookmarks.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 73,
		),
		'tour' => array(
			'title'        => 'Firefox: A quick tour',
			'description'  => 'Asa Dotzler gives a quick tour of the different elements of the Firefox browser.',
			'thumbnail'    => '/img/covehead/video/icon-tour.png',
			'flv_filename' => 'firefox/3.5/firefoxtour/firefoxtour.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/firefoxtour/firefoxtour.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/firefoxtour/firefoxtour.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 126,
		),
		'switch' => array(
			'title'        => 'Make the Switch',
			'description'  => 'Asa Dotzler shows how easy it is to switch to Firefox.',
			'thumbnail'    => '/img/covehead/video/icon-switch.png',
			'flv_filename' => 'firefox/3.5/switch/switch.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/switch/switch.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/switch/switch.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 40,
		),
		'fastest-clapper' => array(
			'title'        => 'Fastest Firefox: Clapper',
			'description'  => 'The world’s fastest clapper claps for Firefox.',
			'thumbnail'    => '/img/covehead/video/icon-fastest-clapper.png',
			'flv_filename' => 'firefox/3.5/fastest/1/fastest-clapper.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/4/fastest-clapper.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/1/fastest-clapper.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 426,
			'duration'     => 79,
		),
		'fastest-sport-stacker' => array(
			'title'        => 'Fastest Firefox: Sport Stacker',
			'description'  => 'Watch the world’s fastest sport stacker in action.',
			'thumbnail'    => '/img/covehead/video/icon-fastest-sport-stacker.png',
			'flv_filename' => 'firefox/3.5/fastest/2/fastest-sportstacker.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/3/fastest-sportstacker.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/2/fastest-sportstacker.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 426,
			'duration'     => 40,
		),
		'fastest-banjo' => array(
			'title'        => 'Fastest Firefox: Banjo Player',
			'description'  => 'The fastest banjo player strums a speedy tune for Firefox.',
			'thumbnail'    => '/img/covehead/video/icon-fastest-banjo.png',
			'flv_filename' => 'firefox/3.5/fastest/6/fastest-banjo.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/5/fastest-banjo.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/6/fastest-banjo.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 428,
			'duration'     => 77,
		),
		'fastest-users' => array(
			'title'        => 'Fastest Firefox: Fast Fans',
			'description'  => 'We asked fans to help us spread the word about Firefox’s speed.',
			'thumbnail'    => '/img/covehead/video/icon-fastest-users.png',
			'flv_filename' => 'firefox/3.5/fastest/fastest-users.m4v',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/fastest-users.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/fastest/fastest-users.m4v',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 77,
		),
		'thankyou' => array(
			'title'        => 'Thank You!',
			'description'  => 'The worldwide Mozilla community says thanks for your support.',
			'thumbnail'    => '/img/covehead/video/icon-thankyou.png',
			'flv_filename' => 'firefox/3.5/thankyou/thankyou.mp4',
			'sources'      => array(
				'ogg' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/thankyou/thankyou.ogv',
					'type' => 'video/ogg; codecs=&quot;theora, vorbis&quot;',
				),
				'mp4' => array(
					'src'  => 'http://videos-cdn.mozilla.net/firefox/3.5/thankyou/thankyou.mp4',
					'type' => 'video/mp4',
				),
			),
			'width'        => 640,
			'height'       => 360,
			'duration'     => 40,
		),
		// }}}
	);

	// get selected video and shortname
	$_selected_shortname = (isset($_GET['video'])) ? $_GET['video'] : key($_videos);
	if (!array_key_exists($_selected_shortname, $_videos)) {
		$_selected_shortname = key($_videos);
	}

	$_selected_video = $_videos[$_selected_shortname];

    // The $body_* variables are for compatibility with pre-existing css
    $page_title = 'Firefox Browser | Video tour of Firefox browser features';
    $body_id    = 'firefox-videos';
    $breadcrumbs = array(
		'Features'    => "/{$lang}/firefox/features",
        'Videos'      => ""
    );
    $html5      = true;
    $extra_headers = <<<EXTRA_HEADERS
	<link rel="stylesheet" href="{$config['static_prefix']}/style/covehead/video.css" media="screen" />
	<script src="/includes/yui/2.5.1/yahoo-dom-event/yahoo-dom-event.js"></script>
	<script src="/includes/yui/2.5.1/animation/animation-min.js"></script>
	<script src="/includes/yui/2.5.1/container/container-min.js"></script>
	<script src="/js/mozilla-video-tools.js"></script>

EXTRA_HEADERS;
    @include_once "{$config['file_root']}/{$lang}/includes/header.inc.php";
?>

<div id="download" class="top-right">
    <script src="/js/download.js"></script>
    <?php
        $_options = array('ancillary_links' => true, 'layout' => 'subpage', 'download_parent_override' => 'download', '_include_js' => true, 'download_product' => 'Firefox 3.6');
        echo $firefoxDetails->getNoScriptBlockForLocale('en-US', $_options);
        echo $firefoxDetails->getDownloadBlockForLocale('en-US', $_options);
    ?>
</div>

<div id="main-feature">

	<h2>Our <span>Videos</span></h2>
	<p>Take a quick overview tour of Firefox, or watch our developers explain specific features in more detail.</p>

</div>

<div id="content">

	<div id="current-video">

		<div id="video-player" class="mozilla-video-control">
			<video
				id="video"
				width="<?php echo $_selected_video['width']; ?>"
				height="<?php echo $_selected_video['height']; ?>"
				controls="controls"
                                preload="metadata">

<?php
	foreach ($_selected_video['sources'] as $_source) {
		echo "\t\t\t\t<source src=\"", $_source['src'], "\"";
		if ($_source['type']) {
			echo " type=\"", $_source['type'], "\"";
		}
		echo " />\n";
	}
?>

				<object type="application/x-shockwave-flash"
	                style="width: <?php echo $_selected_video['width']; ?>px; height: <?php echo $_selected_video['height'] + $_FLASH_PLAYER_CONTROLS_HEIGHT; ?>px;"
					data="/includes/flash/playerWithControls.swf?flv=<?php echo $_selected_video['flv_filename']; ?>&amp;autoplay=false&amp;msg=Play%20Video">

					<param name="movie" value="/includes/flash/playerWithControls.swf?flv=<?php echo $_selected_video['flv_filename']; ?>&amp;autoplay=false&amp;msg=Play%20Video" />
					<param name="wmode" value="transparent" />

					<div class="video-player-no-flash">
					This video requires a browser with support for open video:
					<ul>
					<li><a href="http://www.mozilla.com/firefox/">Firefox</a> 3.5 or greater</li>
					<li><a href="http://www.apple.com/safari/">Safari</a> 3.1 or greater</li>
					</ul>
					or the <a href="http://www.adobe.com/go/getflashplayer">Adobe Flash Player</a>.
					Alternatively, you may use the video download links to the right.
					</div>

				</object>

			</video>
		</div>

		<div id="video-details">
			<h3><?php echo $_selected_video['title']; ?></h3>
			<div class="video-duration"><?php
			$minutes = floor($_selected_video['duration'] / 60);
			$seconds = $_selected_video['duration'] % 60;
			printf('%d:%02d', $minutes, $seconds);
			?></div>
			<p><?php echo $_selected_video['description']; ?></p>
			<ul id="video-download">

<?php
	foreach ($_selected_video['sources'] as $_key => $_source) {
		switch ($_key) {
		case 'ogg':
			$text = 'Open video format (Ogg&nbsp;Theora)';
			break;
		case 'mp4':
			$text = 'MPEG-4 format';
			break;
		default:
			$text = $_source['type'].' format';
			break;
		}
		echo "\t\t\t\t<li><a href=\"", $_source['src'], "\">", $text, "</a></li>\n";
	}
?>
			</ul>
		</div>
	</div>

	<div id="main-content">

	<div id="other-videos">
		<div class="section-content">
			<h3>Other <span>Videos</span></h3>
		</div>
	<?php

	$count = 0;

	foreach ($_videos as $_shortname => $_video) {
		echo "\n";

		if (($count % 5) == 0) {
			echo "\t\t<div class=\"clear\"></div>\n";
		}

		$_video_href  = '/' . $lang . '/firefox/video?video=' . $_shortname;
		$_video_class = ($_shortname == $_selected_shortname) ? 'video-preview selected' : 'video-preview';

		echo "\t\t<div class=\"", $_video_class, "\" id=\"", $_shortname, "\">\n";

		if ($_shortname == $_selected_shortname) {
			echo "\t\t\t<span class=\"active\">\n";
		} else {
			echo "\t\t\t<a href=\"", $_video_href, "\">\n";
		}

		echo "\t\t\t\t<img src=\"", $config['static_prefix'], $_video['thumbnail'], "\" alt=\"", $_video['title'], " thumbnail\" />";
		echo  "<span>", $_video['title'], "</span>\n";

		if ($_shortname == $_selected_shortname) {
			echo "\t\t\t</span>\n";
		} else {
			echo "\t\t\t</a>\n";
		}

		echo "\t\t\t<p>", $_video['description'], "</p>\n";
		echo "\t\t</div>\n";

		$count++;
	}
	?>
	</div>
	</div>

</div><!-- end #content div -->


<?php
    @include_once "{$config['file_root']}/{$lang}/includes/footer.inc.php";
?>
