<?php
    // The $body_* variables are for compatibility with pre-existing css
    $page_title = 'Mozilla Firefox 4 Beta Release Notes';
    $body_id    = 'firefox-relnotes';

    $extra_headers = <<<EXTRA_HEADERS
  <link rel="stylesheet" href="{$config['static_prefix']}/style/covehead/release-notes.css" media="screen" />
  <link rel="stylesheet" href="{$config['static_prefix']}/style/covehead/mozilla-expanders.css" media="screen" />
  <link rel="stylesheet" href="{$config['static_prefix']}/style/firefox/beta/4/main.css"  />
  <script src="/js/mozilla-expanders.js"></script>

EXTRA_HEADERS;
    @include_once "{$config['file_root']}/{$lang}/includes/header.inc.php";
?>

<div id="main-feature">
    <div id="feature-contents">
      <h2><a href="../../beta"><img src="<?=$config['static_prefix']?>/img/firefox/beta/4/title.png" alt="Firefox 4 Beta" /></a></h2>
      <p><em>Beta version 1: released July 6th, 2010</em></p>
      <p>These are the release notes for the first version of the Firefox 4 Beta, based on the Gecko 2.0 Web platform. Please read below for more detailed information about what's new in this version of the beta release, as well as the known issues.</p>
      <p>We rely on your feedback to help shape our products, so we've bundled a <a href="/<?=$lang?>/firefox/beta/#privacy">Feedback Add-On</a> with the Firefox 4 Beta that provides an easy to use <a href="/<?=$lang?>/firefox/beta/feedback/">Feedback button</a>.</p>
      <p>If you want to test Add-Ons with Firefox 4 Beta, you will need to install the <a href="https://addons.mozilla.org/addon/15003?src=external-fxbetarelnote">Add-On Compatibility Reporter</a> first.</p>    
     </div>
</div>

<div id="release-notes">

<?=buildFirefoxBetaSubPageMenu($lang, 'releasenotes');?>

<div id="main-content">

    <div id="whatsnew" class="expander">
      <h3 class="expander-header">About this release</h3>
      <div class="expander-content">
        <p>Firefox&nbsp;4&nbsp;Beta (version 1) considered to be stable and safe to use for daily web browsing, though the features and content may change before the final product release. At this time many <a href="http://addons.mozilla.org">Add-ons</a> may not yet have been
          tested by their authors to ensure that they are compatible with this
          release. If you wish to help test Add-on compatibility, please
          <a href="https://addons.mozilla.org/addon/15003?src=external-fxbetarelnote">install the Add-on Compatibility Reporter</a> - your
          favorite Add-on author will appreciate it!</p>
        <p>Check out what’s new, the known issues and frequently asked questions
          about the latest version of Firefox. Please tell us what you think using the <a
          href="/<?=$lang?>/firefox/beta/feedback/">feedback tools</a> provided as part of the beta. We appreciate your input!
        </p>
      </div>
    </div>

    <div id="whatsnew2" class="expander expander-odd">
      <h3 class="expander-header">What’s New in Firefox&nbsp;4 Beta (revision 1)</h3>
      <div class="expander-content">
        <ul class="spaced">
          <li><a href="http://blog.mozilla.com/faaborg/2010/06/24/why-tabs-are-on-top-in-firefox-4/">Tabs are now on top</a> by default on <em>Windows only</em> - OSX and Linux will be changing when the theme has been modified to support the change.</li>
          <li>On Windows Vista and Windows 7 the menu bar has been replaced with the <a href="http://www.mozilla.org/en-US/firefox/beta/features/#feature-firefox-bottom">Firefox button</a>.</li>
          <li>You can <a href="http://www.mozilla.org/en-US/firefox/beta/features/#feature-switch">search for and switch to already open tabs</a> in the Smart Location Bar</li>
          <li>New Addons Manager and extension management API (UI will be changed before final release)</li>
          <li>Significant API improvements are available for JS-ctypes, a foreign function interface for extensions.</li>
          <li>The stop and reload buttons have been merged into a single button on Windows, Mac and Linux.</li>
          <li>The Bookmarks Toolbar has been replaced with a Bookmarks Button by default (you can switch it back if you'd like).</li>
          <li>Crash protection for Windows, Linux, and Mac when there is a crash in the Adobe Flash, Apple Quicktime or Microsoft Silverlight plugins.</li>
          <li><a href="https://developer.mozilla.org/en/CSS/-moz-transition">CSS Transitions</a> are partially supported.</li>
          <li>Full <a href="https://developer.mozilla.org/en/WebGL">WebGL</a> support is included but disabled by default at this time.</li>
          <li>Core Animation rendering model for plugins on Mac OS X. Plugins which also support this rendering model can now draw faster and more efficiently.</li>
          <li>Native support for the HD HTML5 <a href="http://hacks.mozilla.org/2010/05/firefox-youtube-and-webm/">WebM</a> video format.</li>
          <li>An <a href="https://wiki.mozilla.org/Platform/GFX/Direct2DDemo">experimental Direct2D rendering backend</a> is available on Windows, turned off by default.</li>
          <li>Web developers can use <a href="http://hacks.mozilla.org/2010/04/websockets-in-firefox/">Websockets</a> for a low complexity, low latency, bidirectional communications API.</li>
          <li>Web developers can update the URL field without reloading the page using <a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries">HTML History APIs</a>.</li>
          <li>More responsive page rendering using <a href="http://hacks.mozilla.org/2010/05/better-performance-with-lazy-frame-construction/">lazy frame construction</a>.</li>
          <li>Link history lookup is done asynchronously to provide better responsiveness during pageload.</li>
          <li>CSS :visited selectors have been <a href="http://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/">changed to block websites from being able to check a user's browsing history</a>.</li>
          <li>New <a href="http://hacks.mozilla.org/2010/05/firefox-4-the-html5-parser-inline-svg-speed-and-more/">HTML5 parser</a>.</li>
          <li>Support for more HTML5 form controls.</li>
        </ul>
        <p>Developers can find out about <a href="https://developer.mozilla.org/En/Firefox_4_for_developers">all the changes and
           new features</a> at the <a href="https://developer.mozilla.org/">Mozilla Developer Center</a>.</p>
      </div>
    </div>

    <div id="requirements" class="expander">
      <h3 class="expander-header">System Requirements</h3>
      <div class="expander-content">
        <p>Before installing, make sure your computer meets the <a href="../system-requirements/">
           system requirements</a>.</p>
      </div>
    </div>

    <div id="download" class="expander expander-odd">
      <h3 class="expander-header">Downloading</h3>
      <div class="expander-content">
        <p>Mozilla will provide Firefox&nbsp;4&nbsp;Beta for Windows, Linux, and Mac&nbsp;OS&nbsp;X in a
           variety of languages, though this first version is only available in English. Eventually you will be able to <a href="/<?=$lang?>/firefox/all-beta.html">get the latest version
           of the Firefox&nbsp;4 Beta in many languages</a>. For builds for other systems and languages not provided by Mozilla, see the Contributed Builds section at the end of this document.</p>
      </div>
    </div>

    <div id="install" class="expander">
      <h3 class="expander-header">Installing</h3>
      <div class="expander-content">
        <p>Please note that installing Firefox&nbsp;4 Beta will not overwrite your existing installation of Firefox.
        You won’t lose any of your bookmarks or browsing history,
        but some of your extensions and other add-ons might not work
        until updates for them are made available.</p>
      </div>
    </div>

    <div id="uninstall" class="expander expander-odd">
      <h3 class="expander-header">Uninstalling</h3>
      <div class="expander-content">
        <p>You can remove Firefox&nbsp;4&nbsp;Beta with the Add/Removes Programs utility on Windows, by moving the Firefox application to the Trash on OS X, or by deleting the containing folder on Linux.</p>
        <p>By default, removing Firefox&nbsp;4 Beta won’t remove your bookmarks,
           web browsing history, extensions or other add-ons. This data is
           stored in your <em>profile folder</em>, which can be found by going
           to the <em>Help</em> menu and selecting <em>Troubleshooting
           Information...</em>. The button next to the <em>Profile
           Directory</em> line in <em>Application Basics</em> will open your
           profile directory in your system's file explorer.</p>
        <p>Please note that if you keep your profile, any version of Firefox
           that you install after removing Firefox&nbsp;4 Beta will continue to
           use the bookmarks, web browsing history, add-ons, and other data
           from this profile folder.</p>
      </div>
    </div>

    <div id="extensions" class="expander">
      <h3 class="expander-header">Add-ons and Themes</h3>
      <div class="expander-content">
        <p>Add-ons installed with previous versions of Firefox may not yet have
        been updated by their authors to work with Firefox&nbsp;4&nbsp;Beta. If you wish to help test Add-ons, please <a href="https://addons.mozilla.org/addon/15003?src=external-fxbetarelnote">install the Add-on Compatibility Reporter</a> - your favorite Add-on author will appreciate it!</p>
      </div>
    </div>

    <div id="issues" class="expander expander-odd">
      <h3 class="expander-header">Known Issues</h3>
      <div class="expander-content">
        <p>This list covers some of the known problems with Firefox&nbsp;4&nbsp;Beta which will be resolved in future versions:</p>
        <dl>
        <dt id="allsystems">All Systems</dt>
        <dd>
          <ul class="spaced">
            <li>The Bookmark Toolbar is turned off by default even on existing profiles (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=574514">bug 574514</a>)</li>
            <li>If you try to start Firefox using a locked profile, it will crash (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=573369">bug 573369</a>)</li>
            <li>After using the Customize Toolbars feature, the Bookmarks Toolbar context menu will not work until you restart the browser (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=557225">bug 557225</a>)</li>
            <li>Rendering of the popular Tuenti website is broken, though already fixed for the next beta (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=573969">bug 573969</a>)</li>
          </ul>
        </dd>

        <dt id="windows">Microsoft Windows</dt>
        <dd>
          <ul class="spaced">
            <li>Some graphics drivers may not work properly with full screen Ogg Theora HTML video acceleration (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=564391">bug 564391</a>)</li>
            <li>When using a Persona, the maximize, minimize and close window buttons will not appear, though they will still work (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=574833">bug 574833</a>)</li>
            <li>When using the Windows "Classic" theme the toolbars and tab strip may appear gray for several seconds as Firefox starts up (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=574638">bug 574638</a>)</li>
          </ul>
        </dd>

        <dt id="osx">Mac OS X</dt>
        <dd>
          <ul class="spaced">
            <li>Although you can customize Firefox to show tabs on top for OSX, it really doesn't look good. We suggest you wait.</li>
            <li>When plugin content is loaded in a separate process, a second icon appears in the OSX Dock (see bug <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=557225">557225</a>).</li>
          </ul>
        </dd>

        <dt id="linux">Linux and Unix</dt>
        <dd>
          <ul class="spaced">
          </ul>
        </dd>

        </dl>
      </div>
    </div>

    <div id="troubleshooting" class="expander">
      <h3 class="expander-header">Troubleshooting</h3>
      <div class="expander-content">
        <ul class="spaced">
          <li>
            Poorly designed or incompatible extensions can cause problems with your browser,
            including make it crash, slow down page display, etc. If you encounter strange
            problems relating to parts of the browser no longer working, the browser not
            starting, windows with strange or distorted appearance, degraded performance, etc,
            you may be suffering from Extension or Theme trouble.
            Restart the browser in Safe Mode. On Windows, start using the "Safe Mode" shortcut created in your
            Start menu or by running <code>firefox.exe -safe-mode</code>. On Linux,
            start with <code>./firefox -safe-mode</code> and on Mac&nbsp;OS&nbsp;X, run:
            <p><code>
              cd /Applications/Firefox.app/Contents/MacOS/<br />
              ./firefox-bin -safe-mode
            </code></p>

            When started in Safe Mode all extensions are disabled and the Default theme is
            used. Disable the Extension/Theme that is causing trouble and then start normally.
          </li>
          <li>
            If you uninstall an extension that is installed with your user profile (i.e.
            you installed it from a Web page) and then wish to install it for all user profiles
            using the -install-global-extension command line flag, you must restart the
            browser once to cleanse the profile extensions datasource of traces of that
            extension before installing with the switch. If you do not do this you may end
            up with a jammed entry in the Extensions list and will be unable to install
            the extension globally.
          </li>
          <li>
            If you encounter strange problems relating to bookmarks, downloads, window
            placement, toolbars, history, or other settings, it is recommended that you try
            creating a new profile and attempting to reproduce the problem before filing
            bugs. Create a new profile by running Firefox with the -P command line
            argument, choose the "Manage Profiles" button and then choose "Create
            Profile...". Migrate your settings files (Bookmarks, Saved Passwords, etc) over
            one by one, checking each time to see if the problems resurface. If you do
            find a particular profile data file is causing a problem, file a bug and attach
            the file.
          </li>
        </ul>
      </div>
    </div>

    <div id="faq" class="expander expander-odd">
      <h3 class="expander-header">Frequently Asked Questions</h3>
      <div class="expander-content">
        <ol class="faq">
          <li>
            What can I do to help?
            <p>We need help from developers and the testing community to provide as much
               feedback as possible to make Firefox even better. Please pick your <a href="/<?=$lang?>/firefox/beta/feedback/">favourite way to give us your feedback</a> at any time!</p>
          </li>
          <li>
            Where can I get extensions and themes (add-ons)?
            <p><a href="https://addons.mozilla.org/<?=$lang?>/firefox/extensions/">Extensions</a> and
               <a href="https://addons.mozilla.org/<?=$lang?>/firefox/themes/">Themes</a> can be downloaded from
               <a href="https://addons.mozilla.org/<?=$lang?>/firefox/">Firefox Add-ons</a>.</p>
          </li>
          <li>
            Who makes Firefox&nbsp;4&nbsp;Beta?
            <p>Lots of people. See Help-&gt;About Mozilla Firefox, Credits for a list of some of the people who
              have contributed to Firefox&nbsp;4&nbsp;Beta.</p>
          </li>
          <li>
            Where’s the Firefox&nbsp;4&nbsp;Beta source code?
            <p>A tarball of the Firefox&nbsp;4&nbsp;Beta source code is available for <a href="http://releases.mozilla.org/pub/mozilla.org/firefox/releases/4.0b1/source/">download</a>.
               The latest development code can be obtained through <a href="http://developer.mozilla.org/en/Mozilla_Source_Code_(Mercurial)">Mercurial</a>.
               Firefox-specific source is in mozilla-central's "browser", "toolkit",
               and "chrome" directories. Please follow the <a href=
               "http://developer.mozilla.org/en/Build_Documentation">build instructions</a>.</p>
          </li>
          <li>
            Where is the mail client?
            <p>Firefox&nbsp;4&nbsp;Beta works with whatever mail client is the default on your system.
               However, we recommend <a href="/<?=$lang?>/thunderbird/">Mozilla Thunderbird</a>, our
               next-generation email client and the perfect complement to Firefox.</p>
          </li>
        </ol>
      </div>
    </div>

    <div id="contributedbuilds" class="expander">
      <h3 class="expander-header">Contributed Builds</h3>
      <div class="expander-content">
        <p>These are unofficial builds and may be configured differently than the official
           Mozilla builds. They may also be optimized and/or tested for specific
           platforms. You can browse through the available contributed builds on the
           <a href="http://releases.mozilla.org/pub/mozilla.org/firefox/releases/4.0b1/contrib/">FTP
           site</a>.</p>

<!-- put contributed builds here -->

      </div>
    </div>

  <div id="links" class="expander expander-odd">
      <h3 class="expander-header">Other Resources and Links</h3>
      <div class="expander-content">
        <p>The following resources contain useful information about Firefox&nbsp;4&nbsp;Beta</p>

        <ul class="spaced">
          <li><a href="http://support.mozilla.com/">Firefox Support Page</a></li>
          <li><a href="http://kb.mozillazine.org/">MozillaZine's Knowledge Base</a></li>
          <li><a href="https://developer.mozilla.org/en/Firefox_4_for_developers">Developer Information</a></li>
          <li><a href="http://code.google.com/apis/safebrowsing/firefox3_privacy.html">SafeBrowsing Service
            Privacy Policy</a> (for anti-phishing/anti-malware feature)</li>
        </ul>
      </div>
    </div>

</div>

<div id="sidebar">
<script src="/js/download.old.js"></script>
<?php
// en-US download box is built in js and doesn't offer the flexibility
// hidePartialLocaleJS() hides unavailable locales for specific platforms
// include after download.old.js
hidePartialLocaleJS(LATEST_FIREFOX_DEVEL_VERSION);
?>
    <script>
          <!--
          // Configure the Firefox download write script
          var gDownloadItemTemplate = " <li class=\"%CSS_CLASS%\"> <a onclick=\"javascript:do_download('%BOUNCER_URL%');\" href=\"%DOWNLOAD_URL%\" class=\"download-link\"> <span>Free Download<\/span><\/a> <em>%LANGUAGE_NAME%, %PLATFORM_NAME%<\/em> <\/li>";
      // Temporary fix for bug 439792
      if (gPlatform == PLATFORM_MACOSX) {
            gDownloadItemTemplate = " <li class=\"%CSS_CLASS%\"> <a onclick=\"javascript:do_download('%BOUNCER_URL%');\" href=\"%DOWNLOAD_URL%\" class=\"download-link\"> <span>Free Download<\/span><\/a> <em>%LANGUAGE_NAME%, %PLATFORM_NAME% 10.5 and above<\/em> <\/li>";
      }
          var gDownloadItemMacOS9 = "<a href=\"\">MacOS 9 and earlier are not supported<\/a>";
          var gDownloadItemOtherPlatform = "<a href=\"/<?=$lang?>/firefox/<?=LATEST_FIREFOX_DEVEL_VERSION?>/releasenotes/#contributedbuilds\">Free Download<\/a>"

          document.writeln("<ul class=\"download-firefox " + gCssClass + " \">");
          writeDownloadItems("fxbeta");
          document.writeln("<\/ul>");
          document.writeln("<div class=\"download-other\"><span class=\"other\">");
          document.writeln("<a href=\"\/<?=$lang?>\/firefox\/all-beta.html\">All Systems &amp; Languages<\/a> | ");
          document.writeln("<a href=\"\/<?=$lang?>\/legal\/privacy\/firefox.html\">Privacy Policy<\/a>");
          document.writeln("<\/span><\/div>");
          //-->
    </script>
    <?php echo $firefoxDetails->getNoScriptBlockForLocale('en-US', array('devel_version' => true)); ?>
  <div id="get-involved" class="sidebar-section">
    <h3>Get Involved</h3>
    <p>Want to become part of the Mozilla project?</p>
    <a href="http://www.mozilla.org/contribute/">Find out how you can help</a>
  </div>

  <div id="other-resources" class="sidebar-section">
    <h4>Other Resources &amp; Links</h4>
    <p>The following resources contain additional useful information about Firefox&nbsp;4&nbsp;Beta:</p>
    <ul>
      <li><a href="http://support.mozilla.com/">Firefox Support Page</a></li>
      <li><a href="http://kb.mozillazine.org/">MozillaZine's Knowledge Base</a></li>
      <li><a href="http://developer.mozilla.org/en/Firefox_4_for_developers">Developer Information</a></li>
      <li><a href="http://code.google.com/apis/safebrowsing/firefox3_privacy.html">SafeBrowsing Service
        Privacy Policy</a> (for anti-phishing/anti-malware feature)</li>
    </ul>
  </div>
</div>

<div id="release-notes-footer"></div>
</div>

<?php
    @include_once "{$config['file_root']}/{$lang}/includes/footer.inc.php";
?>
